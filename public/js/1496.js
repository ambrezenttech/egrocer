"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1496],{1496:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(1585),i=s(9669),r=s.n(i),l=s(9756);function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}const c={components:{VuejsDatatableFactory:a.dc},data:function(){return{login_user:l.Z.user,fields:[{key:"select",label:"",visible:!0},{key:"product_variant_id",label:__("id"),visible:!0,sortable:!0,sortDirection:"desc"},{key:"product_id",label:__("product_id"),visible:!0,sortable:!0,sortDirection:"desc"},{key:"tax_id",label:__("tax_id"),visible:!1,sortable:!0,class:"text-center"},{key:"seller_name",label:__("seller_name"),visible:!0,class:"text-center",sortable:!0},{key:"name",label:__("name"),visible:!0,sortable:!0,class:"text-center"},{key:"image",label:__("image"),visible:!0,class:"text-center"},{key:"price",label:__("price")+"("+this.$currency+")",visible:!0,class:"text-center",sortable:!0},{key:"discounted_price",label:__("discounted_price")+"("+this.$currency+")",visible:!0,class:"text-center",sortable:!0},{key:"measurement",label:__("measurement"),visible:!0,class:"text-center",sortable:!0},{key:"stock",label:__("stock"),visible:!0,class:"text-center",sortable:!0},{key:"availability",label:__("availability"),visible:!0,class:"text-center",sortable:!0},{key:"status",label:__("status"),visible:!0,class:"text-center",sortable:!0},{key:"indicator",label:__("indicator"),visible:!1,class:"text-center",sortable:!0},{key:"is_approved",label:__("is_approved"),visible:!1,class:"text-center",sortable:!0},{key:"return_status",label:__("return"),visible:!1,class:"text-center",sortable:!0},{key:"cancelable_status",label:__("cancellation"),visible:!1,class:"text-center",sortable:!0},{key:"till_status",label:__("till_status"),visible:!1,class:"text-center",sortable:!0},{key:"actions",label:__("actions"),visible:!0}],totalRows:1,currentPage:1,perPage:this.$perPage,pageOptions:this.$pageOptions,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],categories:[],sellers:[],products:[],category:"",seller:"",is_approved:"",selectedItems:[],select:"",all_select:!1,isLoading:!1}},computed:{visibleFields:function(){return this.fields.filter((function(e){return e.visible}))}},mounted:function(){},created:function(){var e=this;this.$roleSeller===this.login_user.role.name&&this.fields.forEach((function(t,s){"seller_name"===t.key&&e.fields.splice(s,1)})),this.getRecords()},methods:{getRecords:function(){var e=this;this.isLoading=!0;var t={category:this.category,seller:this.seller,is_approved:this.is_approved};r().get(this.$apiUrl+"/products",{params:t}).then((function(t){e.isLoading=!1,e.categories=t.data.data.categories,e.sellers=t.data.data.sellers,e.products=t.data.data.products,e.totalRows=e.products.length}))},getSubCategories:function(){var e=this;this.isLoading=!0;var t=this.$apiUrl+"/subcategories";this.category_id&&(t=this.$apiUrl+"/subcategories/"+this.category_id),r().get(t).then((function(t){e.isLoading=!1;var s=t.data;e.subcategories=s.data}))},deleteRecord:function(e,t){var s=this;this.$swal.fire({title:"Are you Sure?",text:"You want be able to revert this",confirmButtonText:"Yes, Sure",cancelButtonText:"Cancel",icon:"warning",showCancelButton:!0,confirmButtonColor:"#37a279",cancelButtonColor:"#d33"}).then((function(a){if(a.value){s.isLoading=!0;var i={id:t};r().post(s.$apiUrl+"/products/delete",i).then((function(t){s.isLoading=!1;var a=t.data;s.products.splice(e,1),s.showMessage("success",a.message)}))}}))},updateStatusProduct:function(e,t){var s=this;this.$swal.fire({title:"Are you Sure?",text:"You want to change status.",confirmButtonText:"Yes, Sure",cancelButtonText:"Cancel",icon:"warning",showCancelButton:!0,confirmButtonColor:"#37a279",cancelButtonColor:"#d33"}).then((function(e){if(e.value){s.isLoading=!0;var a={id:t};r().post(s.$apiUrl+"/products/change",a).then((function(e){s.isLoading=!1,s.getRecords(),s.showMessage("success",e.data.message)}))}}))},allSelectCheckBox:function(){var e=this;0==this.all_select?(this.all_select=!0,this.products.forEach((function(t){e.selectedItems.push(t.product_variant_id)}))):(this.all_select=!1,this.selectedItems=[])},selectCheckBox:function(){var e=o(new Set(this.selectedItems));this.products.length===e.length?this.all_select=!0:this.all_select=!1},multipleDelete:function(){var e=this,t=o(new Set(this.selectedItems));0!==t.length?this.$swal.fire({title:"Are you Sure?",text:"You want be able to revert this",confirmButtonText:"Yes, Sure",cancelButtonText:"Cancel",icon:"warning",showCancelButton:!0,confirmButtonColor:"#37a279",cancelButtonColor:"#d33"}).then((function(s){if(s.value){var a=t.toString();e.isLoading=!0;var i={ids:a};r().post(e.$apiUrl+"/products/multiple_delete",i).then((function(t){e.isLoading=!1;var s=t.data;e.getRecords(),e.selectedItems=[],e.all_select=!1,e.showMessage("success",s.message)}))}})):this.showWarning("Select at least one record!")}}};const d=(0,s(1900).Z)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"page-heading"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 order-md-1 order-last"},[s("h3",[e._v(e._s(e.__("manage_products")))])]),e._v(" "),s("div",{staticClass:"col-12 col-md-6 order-md-2 order-first"},[s("nav",{staticClass:"breadcrumb-header float-start float-lg-end",attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/dashboard"}},[e._v(e._s(e.__("dashboard")))])],1),e._v(" "),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[e._v(e._s(e.__("manage_products")))])])])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-12 order-md-1 order-last"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h4",[e._v(e._s(e.__("products")))]),e._v(" "),s("span",{staticClass:"pull-right"},[e.$roleSeller==e.login_user.role.name?[s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary",attrs:{to:"/seller/manage_products/create",title:"Add Product"}},[e._v(e._s(e.__("add_product")))])]:[s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary",attrs:{to:"/manage_products/create",title:"Add Product"}},[e._v(e._s(e.__("add_product")))])]],2)]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"form-group col-md-3"},[s("b-dropdown",{staticClass:"m-2",attrs:{size:"sm",dropright:"",text:e.__("actions"),"split-variant":"outline-primary",variant:"primary",disabled:0===e.selectedItems.length}},[s("b-dropdown-item",{attrs:{href:"javascript:void(0);"},on:{click:e.multipleDelete}},[s("span",{staticClass:"text-danger",staticStyle:{"font-weight":"bold"}},[s("i",{staticClass:"fa fa-trash"}),e._v(" "+e._s(e.__("delete_selected_products")))])])],1)],1)]),e._v(" "),s("b-row",{staticClass:"mb-2"},[s("b-col",{attrs:{md:"2"}},[s("h6",{staticClass:"box-title"},[e._v(e._s(e.__("filter_by_products_category")))]),e._v(" "),s("form",{attrs:{method:"post"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],staticClass:"form-control form-select",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.category=t.target.multiple?s:s[0]},function(t){return e.getRecords()}]}},[s("option",{attrs:{value:""}},[e._v("All Categories")]),e._v(" "),e._l(e.categories,(function(t){return s("option",{domProps:{value:t.id}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2)])]),e._v(" "),s("b-col",{attrs:{md:"2"}},[s("h6",{staticClass:"box-title"},[e._v(e._s(e.__("filter_products_by_status"))+" ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.is_approved,expression:"is_approved"}],staticClass:"form-control form-select",attrs:{id:"is_approved",name:"is_approved"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.is_approved=t.target.multiple?s:s[0]},function(t){return e.getRecords()}]}},[s("option",{attrs:{value:""}},[e._v("Select Status")]),e._v(" "),s("option",{attrs:{value:"1"}},[e._v("Approved")]),e._v(" "),s("option",{attrs:{value:"2"}},[e._v("Not-Approved")])])]),e._v(" "),e.$roleSeller==e.login_user.role.name?[s("input",{directives:[{name:"model",rawName:"v-model",value:e.seller=e.login_user.seller.id,expression:"seller = login_user.seller.id"}],attrs:{type:"hidden"},domProps:{value:e.seller=e.login_user.seller.id},on:{input:function(t){t.target.composing||e.$set(e.seller=e.login_user.seller,"id",t.target.value)}}})]:[s("b-col",{attrs:{md:"3"}},[s("h6",{staticClass:"box-title"},[e._v(e._s(e.__("filter_products_by_seller"))+" ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.seller,expression:"seller"}],staticClass:"form-control form-select",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.seller=t.target.multiple?s:s[0]},function(t){return e.getRecords()}]}},[s("option",{attrs:{value:""}},[e._v("All Sellers")]),e._v(" "),e._l(e.sellers,(function(t){return s("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)])],e._v(" "),s("b-col",{class:e.$roleSeller==e.login_user.role.name?"offset-3":"",attrs:{md:"3"}},[s("h6",{staticClass:"box-title"},[e._v(e._s(e.__("search")))]),e._v(" "),s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:e.__("search")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),s("b-col",{staticClass:"text-center",attrs:{md:"2"}},[s("div",{staticClass:"btn-group btn_tool",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary",attrs:{type:"button",title:e.__("refresh")},on:{click:function(t){return e.getRecords()}}},[s("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}})]),e._v(" "),s("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{dropleft:"","menu-class":"w-100 border dropdownOverflow",title:"Columns"},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("i",{staticClass:"fa fa-th-list"})]},proxy:!0}])},[e._v(" "),e._l(e.fields,(function(t){return"select"!==t.key?s("li",{key:t.key,staticClass:"m-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.visible,expression:"field.visible"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:t.key,disabled:1==e.visibleFields.length&&t.visible},domProps:{checked:Array.isArray(t.visible)?e._i(t.visible,null)>-1:t.visible},on:{change:function(s){var a=t.visible,i=s.target,r=!!i.checked;if(Array.isArray(a)){var l=e._i(a,null);i.checked?l<0&&e.$set(t,"visible",a.concat([null])):l>-1&&e.$set(t,"visible",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"visible",r)}}}),e._v(" "),s("label",{attrs:{for:t.key}},[e._v(e._s(t.label))]),e._v(" "),s("b-dropdown-divider")],1):e._e()}))],2)],1),e._v(" "),s("b-sidebar",{attrs:{id:"sidebar-right",title:"Sidebar",backdrop:"",right:"",shadow:""}},[s("div",{staticClass:"px-3 py-2"},[s("p",[e._v("\n                                                Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis\n                                                in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                            ")]),e._v(" "),s("b-img",{attrs:{src:"https://picsum.photos/500/500/?image=54",fluid:"",thumbnail:""}})],1)])],1)],2),e._v(" "),s("div",{staticClass:"table-responsive"},[s("b-table",{attrs:{items:e.products,fields:e.visibleFields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,bordered:!0,busy:e.isLoading,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"table-busy",fn:function(){return[s("div",{staticClass:"text-center text-black my-2"},[s("b-spinner",{staticClass:"align-middle"}),e._v(" "),s("strong",[e._v(e._s(e.__("loading"))+"...")])],1)]},proxy:!0},{key:"head(select)",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.all_select,expression:"all_select"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.all_select)?e._i(e.all_select,null)>-1:e.all_select},on:{click:e.allSelectCheckBox,change:function(t){var s=e.all_select,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=e._i(s,null);a.checked?r<0&&(e.all_select=s.concat([null])):r>-1&&(e.all_select=s.slice(0,r).concat(s.slice(r+1)))}else e.all_select=i}}})]}},{key:"cell(select)",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItems,expression:"selectedItems"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:""+t.item.product_variant_id,checked:Array.isArray(e.selectedItems)?e._i(e.selectedItems,""+t.item.product_variant_id)>-1:e.selectedItems},on:{change:[function(s){var a=e.selectedItems,i=s.target,r=!!i.checked;if(Array.isArray(a)){var l=""+t.item.product_variant_id,o=e._i(a,l);i.checked?o<0&&(e.selectedItems=a.concat([l])):o>-1&&(e.selectedItems=a.slice(0,o).concat(a.slice(o+1)))}else e.selectedItems=r},e.selectCheckBox]}})]}},{key:"cell(seller_name)",fn:function(t){return[e._v("\n                                        "+e._s(t.item.seller_name)+"\n                                    ")]}},{key:"cell(image)",fn:function(t){return[t.item.image?s("img",{attrs:{src:e.$storageUrl+t.item.image,height:"50"}}):e._e()]}},{key:"cell(measurement)",fn:function(t){return[e._v("\n                                        "+e._s(t.item.measurement)+"\n                                    ")]}},{key:"cell(stock)",fn:function(t){return[t.item.is_unlimited_stock?s("span",[e._v("Unlimited")]):[e._v("\n                                            "+e._s(t.item.stock)+" "),t.item.stock_unit?s("span",[e._v(e._s(t.item.stock_unit))]):e._e()]]}},{key:"cell(availability)",fn:function(t){return[e.$can("product_update")?s("a",{staticClass:"btn btn-sm",on:{click:function(s){return e.updateStatusProduct(t.index,t.item.id)}}},[1==t.item.status?s("span",{staticClass:"primary-toggal"},[s("i",{staticClass:"fa fa-toggle-on fa-2x"})]):s("span",{staticClass:"text-danger"},[s("i",{staticClass:"fa fa-toggle-off fa-2x"})])]):e._e()]}},{key:"cell(status)",fn:function(t){return[1==t.item.status?s("span",{staticClass:"badge bg-success"},[e._v("Available")]):e._e(),e._v(" "),0==t.item.status?s("span",{staticClass:"badge bg-danger"},[e._v("Sold Out")]):e._e()]}},{key:"cell(indicator)",fn:function(t){return[0==t.item.indicator?s("span",{staticClass:"badge bg-info"},[e._v("None")]):e._e(),e._v(" "),1==t.item.indicator?s("span",{staticClass:"badge bg-success"},[e._v("Veg")]):e._e(),e._v(" "),2==t.item.indicator?s("span",{staticClass:"badge bg-danger"},[e._v("Non-Veg")]):e._e()]}},{key:"cell(is_approved)",fn:function(t){return[1==t.item.is_approved?s("span",{staticClass:"badge bg-success"},[e._v("Approved")]):e._e(),e._v(" "),0==t.item.is_approved?s("span",{staticClass:"badge bg-danger"},[e._v("Not-Approved")]):e._e()]}},{key:"cell(return_status)",fn:function(t){return[0==t.item.return_status?s("span",{staticClass:"badge bg-danger"},[e._v("Not-Allowed")]):e._e(),e._v(" "),1==t.item.return_status?s("span",{staticClass:"badge bg-success"},[e._v("Allowed")]):e._e()]}},{key:"cell(cancelable_status)",fn:function(t){return[0===t.item.cancelable_status?s("span",{staticClass:"badge bg-danger"},[e._v("Not-Allowed")]):e._e(),e._v(" "),1==t.item.cancelable_status?s("span",{staticClass:"badge bg-success"},[e._v("Allowed")]):e._e()]}},{key:"cell(till_status)",fn:function(t){return["0"==t.item.till_status?s("span",{staticClass:"badge bg-danger"},[e._v("Not Applicable")]):e._e(),e._v(" "),"2"==t.item.till_status?s("span",{staticClass:"badge bg-success"},[e._v(e._s(t.item.till_status_name))]):e._e(),e._v(" "),"3"==t.item.till_status?s("span",{staticClass:"badge bg-success"},[e._v(e._s(t.item.till_status_name))]):e._e(),e._v(" "),"4"==t.item.till_status?s("span",{staticClass:"badge bg-success"},[e._v(e._s(t.item.till_status_name))]):e._e(),e._v(" "),"6"==t.item.till_status?s("span",{staticClass:"badge bg-success"},[e._v(e._s(t.item.till_status_name))]):e._e()]}},{key:"cell(actions)",fn:function(t){return[s("div",{staticStyle:{width:"120px"}},[e.$roleSeller==e.login_user.role.name?[s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"SellerViewProduct",params:{id:t.item.id,record:t.item}},title:e.__("view")}},[s("i",{staticClass:"fa fa-eye"})]),e._v(" "),e.$can("product_update")?s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-success btn-sm",attrs:{to:{name:"SellerEditProduct",params:{id:t.item.id,record:t.item}},title:e.__("edit")}},[s("i",{staticClass:"fa fa-pencil"})]):e._e()]:[s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"ViewProduct",params:{id:t.item.id,record:t.item}},title:e.__("view")}},[s("i",{staticClass:"fa fa-eye"})]),e._v(" "),e.$can("product_update")?s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-success btn-sm",attrs:{to:{name:"EditProduct",params:{id:t.item.id,record:t.item}},title:e.__("edit")}},[s("i",{staticClass:"fa fa-pencil"})]):e._e()],e._v(" "),e.$can("product_delete")?s("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-danger btn-sm",attrs:{title:e.__("delete")},on:{click:function(s){return e.deleteRecord(t.index,t.item.product_variant_id)}}},[s("i",{staticClass:"fa fa-trash"})]):e._e()],2)]}}])})],1),e._v(" "),s("b-row",[s("b-col",{attrs:{md:"2"}},[s("label",[s("b-form-group",{staticClass:"mb-0",attrs:{label:e.__("per_page"),"label-for":"per-page-select","label-align-sm":"right","label-size":"sm"}},[s("b-form-select",{staticClass:"form-control form-select",attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)]),e._v(" "),s("b-col",{attrs:{md:"4","offset-md":"6"}},[s("label",[e._v("Total Records :- "+e._s(e.totalRows)+" ")]),e._v(" "),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)])])])])])}),[],!1,null,null,null).exports}}]);